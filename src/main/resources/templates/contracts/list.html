<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head}"></head>
<body>
	<div class="wrap">

		<nav th:replace="~{fragments/side-navigation-bar}"></nav>

		<div class="container">
			<header th:replace="~{fragments/header}"></header>
			<div class="content">
				<form method="get" th:action="@{/contracts}" th:object="${condition}">
					<div class="section">
						<!-- Search Filter -->
						<div class="searchTable1 mB15">
							<table>
							<colgroup>
								<col style="width:10%">
								<col style="width:30%">
								<col style="width:10%">
								<col style="width:30%">
								<col />
							</colgroup>
							<tr>
								<td>
									<p>계약유형</p>
								</td>
								<td>
									<div class="mz-radioset mT10">
										<div class="mz-radio" th:each="type : ${commonTypes.getContractTypes()}">
											<input type="radio" th:field="*{contractType}" th:value="${type.name}">
											<label th:for="${#ids.prev('contractType')}" th:text="${type.description}"></label>
										</div>
									</div>
									<div class="mz-chkbxset">
										<div class="chkbx" th:each="detailType : ${commonTypes.getContractDetailTypes()}">
											<input type="checkbox" th:field="*{detailTypes}" th:value="${detailType.name}"/>
											<label th:for="${#ids.prev('detailTypes')}" th:text="${detailType.description}"></label>
										</div>
									</div>
								</td>
								<td>
									<p>서비스분류</p>
								</td>
								<td>
									<select id="" name="" style="width:100%;">
										<option>FMS</option>
										<option>FMS</option>
									</select>
								</td>
								<td rowspan="5">
									<div class="btnArea">
										<button class="btn btnType01" type="submit">검색</button>
									</div>
								</td>
							</tr>

							<tr>
								<td>
									<p>계약기간</p>
								</td>
								<td>
									<input type="text" class="inputDate" id="contractStartDate" data-mindate="today" style="width: 40%;"/>
									<span>-</span>
									<input type="text" class="inputDate" id="contractEndDate" data-mindate="today" style="width: 40%;"/>
								</td>
								<td>
									<p>등록기간</p>
								</td>
								<td>
									<input type="text" class="inputDate" id="contractCreatedStartDate" data-mindate="today" style="width: 40%;"/>
									<span>-</span>
									<input type="text" class="inputDate" id="contractCreatedEndDate" data-mindate="today" style="width: 40%;"/>
								</td>
							</tr>

							<tr>
								<td>
									<p>계약담당자</p>
								</td>
								<td>
									<input type="text" class="inputArea" th:field="*{contractManagerName}" style="width: 100%">
								</td>
								<td>
									<p>사업수행 담당자</p>
								</td>
								<td>
									<input class="inputArea" style="width: 100%;" type="text" value="">
								</td>
							</tr>

							<tr>
								<td>
									<p>세일즈 담당자</p>
								</td>
								<td>
									<input type="text" class="inputArea" th:field="*{contractSalesManagerName}" style="width: 100%">
								</td>
								<td>
									<p>부서</p>
								</td>
								<td>
									<select id="" name="" style="width:100%;">
										<option>XPO</option>
										<option>XPO</option>
									</select>
								</td>
							</tr>

							<tr>
								<td>
									<p>진행상태</p>
								</td>
								<td>
									<div class="mz-radioset mT10">
										<div class="mz-radio" th:each="type : ${commonTypes.contractStatuses}">
											<input type="radio" th:field="*{status}" th:value="${type.name}">
											<label th:for="${#ids.prev('status')}" th:text="${type.description}"></label>
										</div>
									</div>
								</td>
								<td>
									<p>거래처명</p>
								</td>
								<td>
									<input type="text" class="inputArea" th:field="*{customerName}" style="width: 100%">
								</td>
							</tr>

							<tr>
								<td>
									<p>계약관계명/코드</p>
								</td>
								<td>
									<input class="inputArea" style="width: 100%" type="text" value="">
								</td>
								<td>
									<p>계약 이름</p>
								</td>
								<td>
									<input type="text" class="inputArea" th:field="*{contractName}" style="width: 100%">
								</td>
								<td>
									<div class="btnArea">
										<a href="#" class="btn btnType02">초기화</a>
									</div>
								</td>
							</tr>
							</table>
						</div>
						<!-- Search Filter -->
					</div>
				</form>


				<div class="section">
					<div class="subTitle">
						<h3>계약정보</h3>
						<div>
							<a th:href="@{/contracts/sales-form}" class="btn btn-create">매출 계약서 등록</a>
							<a href="#" class="btn btn-create">매입 계약서 등록</a>
						</div>
					</div>
					<!-- Result Table -->
					<div class="tbl_type01">
						<div class="table-container">
							<table>
							<thead>
								<tr>
									<th>NO</th>
									<th>진행상태</th>
									<th>등록기간</th>
									<th>계약유형</th>
									<th>계약명</th>
									<th>Salesforce계약번호</th>
									<th>계약관계명</th>
									<th>계약관계코드</th>
									<th>계약금액</th>
									<th>계약 기간</th>
									<th>거래처명</th>
									<th>계약팀 담당자</th>
									<th>세일즈 담당자</th>
									<th>사업수행 담당자</th>
									<!--<th>삭제</th>-->
								</tr>
							</thead>
							<tbody>
								<tr th:each="contract : ${contracts}">
									<td>
										<a class="clickable" th:href="@{/contracts/{id} (id=${contract.id})}" th:text="${contract.getId()}">ID</a>
									</td>
									<td th:text="${contract.getStatus().description}"></td>
									<td th:text="'등록기간'"></td>
									<td th:text="${contract.contractType.description}"></td>
									<td th:text="${contract.getName()}"></td>
									<td th:text="${contract.getSalesForceContractNo()}"></td>
									<td th:text="'계약관계명'"></td>
									<td th:text="'계약관계코드'"></td>
									<td th:text="${contract.getAmount()}"></td>
									<td th:text="${contract.getStartDate() + '~' + contract.getEndDate()}"></td>
									<td th:text="${contract.getCustomerName()}"></td>
									<td th:text="${contract.getContractManagerName()}"></td>
									<td th:text="${contract.getSalesManagerName()}"></td>
									<td th:text="'사업수행담당자'"></td>
								</tr>

								<tr>
									<!--<td>-->
									<!--	<a class="clickable" th:href="@{/contracts/{id} (id=${contract.id})}" th:text="${contract.name}">계약 내용</a>-->
									<!--</td>-->
									<!--<td th:text="${contract.name()}" >계약 이름</td>-->
									<!--<td th:text="${contract.contractorName()}">담당자</td>-->
									<!--<td>-->
									<!--	<a th:href="@{/contracts/{id}/update-form (id=${contract.id})}" class="btn_U">수정</a>-->
									<!--</td>-->
								</tr>
							</tbody>
							</table>
						</div>
					</div>
					<!-- Result Table -->
				</div>
			</div>
		</div>
	</div>

	<script>
      $(function () {
		  $('#contractStartDate, #contractEndDate, #contractCreatedStartDate, #contractCreatedEndDate')
				  .datepicker();
      });
	</script>
</body>
</html>
